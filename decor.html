<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Decor | Lumina</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
    <!-- Navigation -->
    <nav>
        <div class="logo">
            <a href="HomePage.html"><img src="images/logo.png" alt="Lumina Logo"></a>
        </div>
        <div class="categories-head">
            <a href="electronics.html">Electronics</a>
            <a href="makeup.html">Make-Up</a>
            <a href="decor.html">Decor</a>
        </div>
        <div class="header-icons">
            <a href="CustomerPage.html" class="oval-button">Customer</a>
            <a href="SellerPage.html" class="oval-button">Seller</a>
            <a href="HomePage.html"><img src="images/home.png" class="icon" alt="Home"></a>
            <a href="CartPage.html"><img src="images/cart.png" class="icon" alt="Cart"></a>
        </div>
    </nav>

    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <a href="HomePage.html">Home</a> &gt; <a href="decor.html">Decor</a>
    </div>
</header>

<main class="categ">
    <!-- Sort By Dropdown -->
    <div class="sort-container">
        <label for="sort">Sort by:</label>
        <select id="sort">
            <optgroup label="Price">
                <option value="low-to-high">Price: Low to High</option>
                <option value="high-to-low">Price: High to Low</option>
            </optgroup>
            <optgroup label="Name">
                <option value="A-Z">Name: A-Z</option>
                <option value="Z-A">Name: Z-A</option>
            </optgroup>
        </select>
    </div>

    <ul class="itemList" id="itemList">
        <!-- Item 1 -->
        <li class="item" id="item11">
            <img src="images/1417149015.png" alt="two Vases">
            <h3>The Vase Duo</h3>
            <div class="price">$55.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item11">-</button>
                <input type="text" value="1" min="1" id="quantity-item11" class="quantity-input">
                <button class="quantity-btn plus" data-id="item11">+</button>
                <button class="add-to-cart" data-id="item11">Add to Cart</button>
            </div>
            <p>A pair of sleek, minimalist wooden vases. Crafted from natural wood with a smooth, polished finish.</p>
        </li>

        <!-- Item 2 -->
        <li class="item" id="item12">
            <img src="images/1417145197.png" alt="Earthenware crockery">
            <h3>Earthenware Crockery</h3>
            <div class="price">$49.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item12">-</button>
                <input type="text" value="1" min="1" id="quantity-item12" class="quantity-input">
                <button class="quantity-btn plus" data-id="item12">+</button>
                <button class="add-to-cart" data-id="item12">Add to Cart</button>
            </div>
            <p>Ceramic earthenware crockery set featuring vibrant cobalt blue glaze with speckled earthy tones, including cups and plates with smooth, rounded edges.</p>
        </li>

        <!-- Item 3 -->
        <li class="item" id="item13">
            <img src="images/1417145324.png" alt="Floral Vase">
            <h3>Floral Vase</h3>
            <div class="price">$7.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item13">-</button>
                <input type="text" value="1" min="1" id="quantity-item13" class="quantity-input">
                <button class="quantity-btn plus" data-id="item13">+</button>
                <button class="add-to-cart" data-id="item13">Add to Cart</button>
            </div>
            <p>A sleek coal-colored vase with lifelike plastic flowers, perfect for adding a modern touch to any space.</p>
        </li>

        <!-- Item 4 -->
        <li class="item" id="item14">
            <img src="images/1417145287.png" alt="Hanging arm lamp">
            <h3>Hanging Arm Lamp</h3>
            <div class="price">$45.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item14">-</button>
                <input type="text" value="1" min="1" id="quantity-item14" class="quantity-input">
                <button class="quantity-btn plus" data-id="item14">+</button>
                <button class="add-to-cart" data-id="item14">Add to Cart</button>
            </div>
            <p>6-inch diameter white conical shade hanging arm lamp attached to a sleek, metallic silver-toned arm and body.</p>
        </li>

        <!-- Item 5 -->
        <li class="item" id="item15">
            <img src="images/1417146195.png" alt="Unique mirrors">
            <h3>Unique Mirrors</h3>
            <div class="price">$30.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item15">-</button>
                <input type="text" value="1" min="1" id="quantity-item15" class="quantity-input">
                <button class="quantity-btn plus" data-id="item15">+</button>
                <button class="add-to-cart" data-id="item15">Add to Cart</button>
            </div>
            <p>Decorative Mirror with a Sleek Ceramic Design at Modern Ceramic Accent.</p>
        </li>

        <!-- Item 6 -->
        <li class="item" id="item16">
            <img src="images/1417145098.png" alt="Luxury towels">
            <h3>Luxury Towels</h3>
            <div class="price">$120.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item16">-</button>
                <input type="text" value="1" min="1" id="quantity-item16" class="quantity-input">
                <button class="quantity-btn plus" data-id="item16">+</button>
                <button class="add-to-cart" data-id="item16">Add to Cart</button>
            </div>
            <p>Soft, absorbent towels made from 100% organic cotton. Available in white. Size: 70 x 140 cm.</p>
        </li>

        <!-- Item 7 -->
        <li class="item" id="item17">
            <img src="images/paerlband-candelabra-gold-colour__0524645_pe644434_s5.avif" alt="Candelabra">
            <h3>Gold Colour Candelabra</h3>
            <div class="price">$17.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item17">-</button>
                <input type="text" value="1" min="1" id="quantity-item17" class="quantity-input">
                <button class="quantity-btn plus" data-id="item17">+</button>
                <button class="add-to-cart" data-id="item17">Add to Cart</button>
            </div>
            <p>Enhance your dining experience with this elegant golden candelabra of size medium.</p>
        </li>

        <!-- Item 8 -->
        <li class="item" id="item18">
            <img src="images/gradvis-vase-pink__0524970_pe644685_s5.avif" alt="Pink Vase">
            <h3>Pink Vase</h3>
            <div class="price">$12.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item18">-</button>
                <input type="text" value="1" min="1" id="quantity-item18" class="quantity-input">
                <button class="quantity-btn plus" data-id="item18">+</button>
                <button class="add-to-cart" data-id="item18">Add to Cart</button>
            </div>
            <p>A beautiful pink vase perfect for displaying fresh flowers.</p>
        </li>

        <!-- Item 9 -->
        <li class="item" id="item19">
            <img src="images/sjaelsligt-decoration-set-of-3-green__0637480_pe698310_s5.avif" alt="Cactus Decoration Set">
            <h3>Cactus Decoration Set</h3>
            <div class="price">$29.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item19">-</button>
                <input type="text" value="1" min="1" id="quantity-item19" class="quantity-input">
                <button class="quantity-btn plus" data-id="item19">+</button>
                <button class="add-to-cart" data-id="item19">Add to Cart</button>
            </div>
                <p>Stylish cactus decorations set of 3 to add a pop of color (green) to any space.</p>
        </li>

        <!-- Item 10 -->
        <li class="item" id="item20">
            <img src="images/djurtraenare-basket-beige-pink__1219309_pe913357_s5.avif" alt="Basket">
            <h3>Beige/Pink Basket</h3>
            <div class="price">$19.00</div>
            <div class="quantity">
                <button class="quantity-btn minus" data-id="item20">-</button>
                <input type="text" value="1" min="1" id="quantity-item20" class="quantity-input">
                <button class="quantity-btn plus" data-id="item20">+</button>
                <button class="add-to-cart" data-id="item20">Add to Cart</button>
            </div>
                <p>Versatile basket for storage or as a decorative piece.</p>
        </li>
    </ul>
</main>

<footer>
    <div class="contact-info">
        <p>Contact Us</p>
        <p><img src="images/instagram.png" alt="Instagram">@Lumina</p>
        <p><img src="images/x.png" alt="X">@Lumina</p>
    </div>
    <div class="copyright">
        <p>&copy; 2024 IT312</p>
    </div>
</footer>

<!-- JavaScript for cart functionality -->
<script>
// Initialize cart from localStorage
let cart = JSON.parse(localStorage.getItem('cart')) || [];

// Function to handle "+" and "-" buttons to adjust quantity
function updateQuantity(productId, action) {
    const quantityInput = document.getElementById(`quantity-${productId}`);
    let currentQuantity = parseInt(quantityInput.value);

    if (action === 'increase') {
        currentQuantity += 1;
    } else if (action === 'decrease' && currentQuantity > 1) {
        currentQuantity -= 1;
    }

    quantityInput.value = currentQuantity;
}

// Function to handle "Add to Cart" for each item
function addToCart(productId) {
    const item = document.querySelector(`#${productId}`);
    const quantity = parseInt(document.getElementById(`quantity-${productId}`).value);
    const name = item.querySelector('h3').innerText;
    const price = parseFloat(item.querySelector('.price').innerText.replace('$', ''));
    const description = item.querySelector('p').innerText;
    const image = item.querySelector('img').src;

    // Check if item is already in cart
    const existingItemIndex = cart.findIndex(product => product.id === productId);

    if (existingItemIndex !== -1) {
        // Update quantity if item exists
        cart[existingItemIndex].quantity += quantity;
    } else {
        // Add new item to cart
        cart.push({
            id: productId,
            name: name,
            price: price,
            quantity: quantity,
            description: description,
            image: image
        });
    }

    // Save updated cart to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Reset quantity to 1 after adding to cart
    document.getElementById(`quantity-${productId}`).value = 1;
}

// Event listener for "+" and "-" buttons
document.querySelectorAll('.quantity-btn.plus').forEach(button => {
    button.addEventListener('click', (e) => {
        const productId = e.target.getAttribute('data-id');
        updateQuantity(productId, 'increase');
    });
});

document.querySelectorAll('.quantity-btn.minus').forEach(button => {
    button.addEventListener('click', (e) => {
        const productId = e.target.getAttribute('data-id');
        updateQuantity(productId, 'decrease');
    });
});

// Event listener for "Add to Cart" buttons
document.querySelectorAll('.add-to-cart').forEach(button => {
    button.addEventListener('click', (e) => {
        const productId = e.target.getAttribute('data-id');
        addToCart(productId);
    });
});

// Sorting function
document.getElementById('sort').addEventListener('change', (e) => {
    const sortValue = e.target.value;
    const itemsList = document.getElementById('itemList');
    const items = Array.from(itemsList.querySelectorAll('.item'));

    if (sortValue === 'low-to-high') {
        items.sort((a, b) => parseFloat(a.querySelector('.price').textContent.replace('$', '')) - parseFloat(b.querySelector('.price').textContent.replace('$', '')));
    } else if (sortValue === 'high-to-low') {
        items.sort((a, b) => parseFloat(b.querySelector('.price').textContent.replace('$', '')) - parseFloat(a.querySelector('.price').textContent.replace('$', '')));
    } else if (sortValue === 'A-Z') {
        items.sort((a, b) => a.querySelector('h3').textContent.localeCompare(b.querySelector('h3').textContent));
    } else if (sortValue === 'Z-A') {
        items.sort((a, b) => b.querySelector('h3').textContent.localeCompare(a.querySelector('h3').textContent));
    }

    // Clear and re-add sorted items
    itemsList.innerHTML = '';
    items.forEach(item => itemsList.appendChild(item));
});
</script>





<script>

    document.addEventListener("DOMContentLoaded", () => {
        const itemList = document.getElementById("itemList");
        let products = JSON.parse(localStorage.getItem("products")) || [];
    
        products.forEach(product => {
            if (product.category === "decor") {
                const productItem = document.createElement("li");
                productItem.classList.add("item");
                productItem.id = product.name.replace(/\s+/g, '-').toLowerCase(); // Ensure unique ID
    
                productItem.innerHTML = `
                    <img src="${product.imageUrl}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <div class="price">$${product.price.toFixed(2)}</div>
                    <div class="quantity">
                        <button class="decrease" data-id="${productItem.id}">-</button>
                        <input type="text" value="1" id="${productItem.id}-quantity" class="quantity-input">
                        <button class="increase" data-id="${productItem.id}">+</button>
                    </div>
                    <button class="add-to-cart" data-id="${productItem.id}">Add to Cart</button>
                    <p>${product.description}</p>
                `;
    
                itemList.appendChild(productItem);
            }
        });
    
        // Handle quantity update with event delegation
        itemList.addEventListener('click', (event) => {
            if (event.target.classList.contains('increase') || event.target.classList.contains('decrease')) {
                const productId = event.target.getAttribute('data-id');
                updateQuantity(productId, event.target.classList.contains('increase') ? 'increase' : 'decrease');
            }
        });
    
        // Handle add to cart with event delegation
        itemList.addEventListener('click', (event) => {
            if (event.target.classList.contains('add-to-cart')) {
                const productId = event.target.getAttribute('data-id');
                addToCart(productId);
            }
        });
    });
    
    // Function to handle "+" and "-" buttons to adjust quantity
    function updateQuantity(productId, action) {
        const quantityInput = document.getElementById(`${productId}-quantity`);
        let currentQuantity = parseInt(quantityInput.value);
    
        if (action === 'increase') {
            currentQuantity += 1;
        } else if (action === 'decrease' && currentQuantity > 1) {
            currentQuantity -= 1;
        }
    
        quantityInput.value = currentQuantity;
    }
    
    // Function to handle "Add to Cart"
    function addToCart(productId) {
        const item = document.querySelector(`#${productId}`);
        const quantity = parseInt(document.getElementById(`${productId}-quantity`).value);
        const name = item.querySelector('h3').innerText;
        const price = parseFloat(item.querySelector('.price').innerText.replace('$', ''));
        const description = item.querySelector('p').innerText;
        const image = item.querySelector('img').src;
    
        const existingItemIndex = cart.findIndex(product => product.id === productId);
    
        if (existingItemIndex !== -1) {
            cart[existingItemIndex].quantity += quantity;
        } else {
            cart.push({
                id: productId,
                name: name,
                price: price,
                quantity: quantity,
                description: description,
                image: image
            });
        }
    
        localStorage.setItem('cart', JSON.stringify(cart));
        document.getElementById(`${productId}-quantity`).value = 1; // Reset to 1
    }
    
    
    
    
    
    </script>
</body>
</html>